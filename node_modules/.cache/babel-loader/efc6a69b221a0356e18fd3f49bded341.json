{"ast":null,"code":"import _slicedToArray from \"/Users/kong/game-cloud-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/kong/game-cloud-frontend/src/pages/Lists.jsx\";\nimport React from 'react';\nimport { useEffect, useState } from 'react';\nimport { ArticleListApi } from \"./request/api\";\nimport { useNavigate } from 'react-router-dom';\nimport { List, Skeleton, Pagination, Button, message } from 'antd';\n\nfunction MyTitle(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"table_title\",\n    href: \"https://jsonplaceholder.typicode.com/posts/\" + props.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 13\n    }\n  }, props.title), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: '#999'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 13\n    }\n  }, \"\\u7B80\\u4ECB:\", props.subTitle));\n}\n\nexport default function Lists() {\n  var _this = this;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      list = _useState2[0],\n      setList = _useState2[1];\n\n  var _useState3 = useState(1),\n      _useState4 = _slicedToArray(_useState3, 2),\n      update = _useState4[0],\n      setUpdate = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      total = _useState6[0],\n      setTotal = _useState6[1];\n\n  var _useState7 = useState(1),\n      _useState8 = _slicedToArray(_useState7, 2),\n      current = _useState8[0],\n      setCurrent = _useState8[1];\n\n  var _useState9 = useState(10),\n      _useState10 = _slicedToArray(_useState9, 2),\n      pageSize = _useState10[0],\n      setPageSize = _useState10[1];\n\n  var navigate = useNavigate();\n\n  var _useState11 = useState([{\n    title: ''\n  }]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      arr = _useState12[0],\n      setArr = _useState12[1];\n\n  useEffect(function () {\n    ArticleListApi().then(function (res) {\n      var newArr = JSON.parse(JSON.stringify(res)); //深拷贝\n\n      var myarr = []; //用来获取自己想要的属性\n\n      newArr.map(function (item) {\n        var obj = {\n          key: item.id,\n          title: /*#__PURE__*/React.createElement(MyTitle, {\n            id: item.id,\n            title: item.title,\n            subTitle: item.body.substr(0, 10),\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 34,\n              columnNumber: 29\n            }\n          }),\n          userId: item.userId\n        };\n        myarr.push(obj);\n      });\n      setArr(myarr);\n      console.log(myarr);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"list_table\",\n    style: {\n      padding: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(List, {\n    className: \"demo-loadmore-list\",\n    itemLayout: \"horizontal\",\n    dataSource: arr,\n    renderItem: function renderItem(item) {\n      return /*#__PURE__*/React.createElement(List.Item, {\n        actions: [/*#__PURE__*/React.createElement(Button, {\n          type: \"primary\",\n          onClick: function onClick() {\n            return navigate('/edit/' + item.id);\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 29\n          }\n        }, \"\\u7F16\\u8F91\"), /*#__PURE__*/React.createElement(Button, {\n          type: \"danger\",\n          onClick: function onClick() {\n            return delFn(item.id);\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 29\n          }\n        }, \"\\u5220\\u9664\")],\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Skeleton, {\n        loading: false,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(List.Item.Meta, {\n        title: /*#__PURE__*/React.createElement(\"a\", {\n          href: \"!#\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 40\n          }\n        }, item.title),\n        description: item.subTitle,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 29\n        }\n      }, moment(item.date).format(\"YYYY-MM-DD hh:mm:ss\"))));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Pagination, {\n    style: {\n      float: 'right',\n      marginTop: '20px'\n    },\n    onChange: onChange,\n    total: total,\n    current: current,\n    pageSize: pageSize,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/kong/game-cloud-frontend/src/pages/Lists.jsx"],"names":["React","useEffect","useState","ArticleListApi","useNavigate","List","Skeleton","Pagination","Button","message","MyTitle","props","id","title","color","subTitle","Lists","list","setList","update","setUpdate","total","setTotal","current","setCurrent","pageSize","setPageSize","navigate","arr","setArr","then","res","newArr","JSON","parse","stringify","myarr","map","item","obj","key","body","substr","userId","push","console","log","padding","delFn","moment","date","format","float","marginTop","onChange"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {useEffect, useState} from 'react'\nimport {ArticleListApi} from \"./request/api\";\nimport {useNavigate} from 'react-router-dom'\nimport { List, Skeleton, Pagination, Button, message } from 'antd';\nfunction MyTitle(props) {\n    return (\n        <div>\n            <a className='table_title' href={\"https://jsonplaceholder.typicode.com/posts/\"+props.id} >{props.title}</a>\n            <p style={{ color: '#999' }}>简介:{props.subTitle}</p>\n        </div>\n    )\n}\nexport default function Lists(){\n    const [list, setList] = useState([])\n    const [update, setUpdate] = useState(1)\n    const [total, setTotal] = useState(0)\n    const [current, setCurrent] = useState(1)\n    const [pageSize, setPageSize] = useState(10)\n    const navigate = useNavigate()\n    const [arr,setArr]=useState([\n        {\n            title:'',\n        }\n    ])\n\n    useEffect(()=>{\n        ArticleListApi().then(res=> {\n            let newArr=JSON.parse(JSON.stringify(res));//深拷贝\n            let myarr=[]//用来获取自己想要的属性\n            newArr.map(item=>{\n                let obj= {\n                    key : item.id,\n                    title : <MyTitle id={item.id} title={item.title} subTitle={item.body.substr(0,10)} />,\n                    userId : item.userId,\n                }\n                myarr.push(obj);\n            })\n            setArr(myarr)\n            console.log(myarr);\n        })\n    },[])\n    return(\n        <div className='list_table' style={{ padding: '20px' }}>\n            <List\n                className=\"demo-loadmore-list\"\n                itemLayout=\"horizontal\"\n                dataSource={arr}\n                renderItem={item => (\n                    <List.Item\n                        actions={[\n                            <Button type='primary' onClick={()=>navigate('/edit/'+item.id)}>编辑</Button>,\n                            <Button type='danger' onClick={()=>delFn(item.id)}>删除</Button>\n                        ]}\n                    >\n                        <Skeleton loading={false}>\n                            <List.Item.Meta\n                                title={<a href=\"!#\">{item.title}</a>}\n                                description={item.subTitle}\n                            />\n                            <div>{moment(item.date).format(\"YYYY-MM-DD hh:mm:ss\")}</div>\n                        </Skeleton>\n                    </List.Item>\n                )}\n            />\n            <Pagination style={{float: 'right',marginTop: '20px'}} onChange={onChange} total={total} current={current} pageSize={pageSize} />\n        </div>\n    )\n\n}"]},"metadata":{},"sourceType":"module"}