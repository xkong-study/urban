{"ast":null,"code":"import _slicedToArray from \"/Users/kong/Desktop/react_introduction/urban_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/kong/Desktop/react_introduction/urban_react/src/pages/Lists.jsx\";\n\n/* jshint esversion: 6 */\nimport React from 'react';\nimport { List, Button, Skeleton } from 'antd';\nimport { useEffect, useState } from 'react';\nimport { ArticleListApi, DeleteTextApi } from \"./request/api\";\nimport { useNavigate } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\n\nfunction MyTitle(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"table_title\",\n    href: \"https://jsonplaceholder.typicode.com/posts/\" + props.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 13\n    }\n  }, props.title), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: '#999'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 13\n    }\n  }, \"comment:\", props.comment));\n}\n\nexport default function Lists() {\n  var _this = this;\n\n  var isLogin = useSelector(function (state) {\n    return state.isLogin;\n  });\n  console.log(isLogin);\n  var navigate = useNavigate();\n\n  var _useState = useState([{\n    id: '',\n    title: '',\n    text: ''\n  }]),\n      _useState2 = _slicedToArray(_useState, 2),\n      arr = _useState2[0],\n      setArr = _useState2[1];\n\n  function Delete(item) {\n    var params = {\n      id: item.id\n    };\n    console.log(params);\n    DeleteTextApi({\n      params: params\n    }).then(function (response) {\n      console.log(response);\n      window.location.reload();\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  var params = {\n    search: isLogin\n  };\n  useEffect(function () {\n    ArticleListApi({\n      params: params\n    }).then(function (res) {\n      var newArr = JSON.parse(JSON.stringify(res)); //深拷贝\n\n      var myarr = []; //用来获取自己想要的属性\n\n      newArr.map(function (item) {\n        if (item.id != null) {\n          var obj = {\n            id: item.id,\n            title: /*#__PURE__*/React.createElement(MyTitle, {\n              title: item.text,\n              comment: item.comment,\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 32\n              }\n            }),\n            text: item.title\n          };\n          myarr.push(obj);\n        }\n      });\n      console.log(myarr);\n      setArr(myarr);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"list_table\",\n    style: {\n      paddingLeft: '50px',\n      height: '580px',\n      marginLeft: '40px',\n      width: '1100px',\n      paddingRight: '50px',\n      marginTop: '4px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(List, {\n    itemLayout: \"horizontal\",\n    dataSource: arr,\n    renderItem: function renderItem(item) {\n      return /*#__PURE__*/React.createElement(List.Item, {\n        actions: [/*#__PURE__*/React.createElement(Button, {\n          type: \"primary\",\n          onClick: function onClick() {\n            return navigate('/edit?id=' + item.id);\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }\n        }, \"edit\"), /*#__PURE__*/React.createElement(Button, {\n          type: \"danger\",\n          onClick: Delete.bind(_this, item),\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }\n        }, \"delete\")],\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Skeleton, {\n        loading: false,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(List.Item.Meta, {\n        title: /*#__PURE__*/React.createElement(\"a\", {\n          href: \"!#\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 36\n          }\n        }, item.title),\n        description: item.text,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 25\n        }\n      })));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/kong/Desktop/react_introduction/urban_react/src/pages/Lists.jsx"],"names":["React","List","Button","Skeleton","useEffect","useState","ArticleListApi","DeleteTextApi","useNavigate","useSelector","useDispatch","MyTitle","props","id","title","color","comment","Lists","isLogin","state","console","log","navigate","text","arr","setArr","Delete","item","params","then","response","window","location","reload","catch","error","search","res","newArr","JSON","parse","stringify","myarr","map","obj","push","paddingLeft","height","marginLeft","width","paddingRight","marginTop","bind"],"mappings":"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","sourcesContent":["/* jshint esversion: 6 */\nimport React from 'react';\nimport {List, Button, Skeleton} from 'antd';\nimport {useEffect, useState} from 'react';\nimport {ArticleListApi, DeleteTextApi} from \"./request/api\";\nimport {useNavigate} from 'react-router-dom';\nimport {useSelector,useDispatch} from 'react-redux';\nfunction MyTitle(props) {\n    return (\n        <div>\n            <a className='table_title' href={\"https://jsonplaceholder.typicode.com/posts/\"+props.id} >{props.title}</a>\n            <p style={{ color: '#999' }}>comment:{props.comment}</p>\n        </div>\n    )\n}\n\nexport default function Lists(){\n    const isLogin = useSelector(state => state.isLogin)\n    console.log(isLogin)\n    const navigate = useNavigate()\n    const [arr,setArr]=useState([\n        {\n            id:'',\n            title:'',\n            text:'',\n        }\n    ])\n    function Delete(item) {\n        let params={\n            id:item.id\n        }\n        console.log(params)\n        DeleteTextApi({params}).then(function (response) {\n            console.log(response);\n            window.location.reload()\n        })\n            .catch(function (error) {\n                console.log(error);\n            });\n    }\n    let params = {\n        search: isLogin,\n    }\n    useEffect(()=>{\n        ArticleListApi({params}).then(res=> {\n            let newArr=JSON.parse(JSON.stringify(res));//深拷贝\n            let myarr=[]//用来获取自己想要的属性\n            newArr.map(item=>{\n                if(item.id != null) {\n                    let obj = {\n                        id: item.id,\n                        title: <MyTitle title={item.text} comment={item.comment}/>,\n                        text: item.title,\n                    }\n                    myarr.push(obj);\n                }\n            })\n            console.log(myarr)\n            setArr(myarr)\n        })\n    },[])\n\n    return(\n        <div className='list_table' style={{ paddingLeft: '50px',height:'580px',marginLeft:'40px',width:'1100px',paddingRight:'50px',marginTop:'4px'}}>\n        <List\n            itemLayout=\"horizontal\"\n            dataSource={arr}\n            renderItem={item => (\n                <List.Item\n                    actions={[\n                        <Button type='primary' onClick={()=>navigate('/edit?id='+item.id)}>edit</Button>,\n                        <Button type='danger' onClick={Delete.bind(this,item)}>delete</Button>,\n                    ]}\n                >\n                    <Skeleton loading={false}>\n                        <List.Item.Meta\n                            title={<a href=\"!#\">{item.title}</a>}\n                            description={item.text}\n                        />\n                    </Skeleton>\n                </List.Item>\n            )}\n          />\n        </div>\n    )\n}\n\n\n"]},"metadata":{},"sourceType":"module"}