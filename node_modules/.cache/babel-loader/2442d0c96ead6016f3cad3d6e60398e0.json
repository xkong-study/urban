{"ast":null,"code":"import _slicedToArray from \"/Users/kong/game-cloud-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/kong/game-cloud-frontend/src/pages/Lists.jsx\";\nimport React from 'react';\nimport { useEffect, useState } from 'react';\nimport { ArticleListApi } from \"./request/api\";\nimport { useNavigate } from 'react-router-dom';\nimport { List, Skeleton, Pagination, Button, message } from 'antd';\nexport default function Lists() {\n  var _this = this;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      list = _useState2[0],\n      setList = _useState2[1];\n\n  var _useState3 = useState(1),\n      _useState4 = _slicedToArray(_useState3, 2),\n      update = _useState4[0],\n      setUpdate = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      total = _useState6[0],\n      setTotal = _useState6[1];\n\n  var _useState7 = useState(1),\n      _useState8 = _slicedToArray(_useState7, 2),\n      current = _useState8[0],\n      setCurrent = _useState8[1];\n\n  var _useState9 = useState(10),\n      _useState10 = _slicedToArray(_useState9, 2),\n      pageSize = _useState10[0],\n      setPageSize = _useState10[1];\n\n  var navigate = useNavigate();\n\n  var getList = function getList(num) {\n    ArticleListApi({\n      num: num,\n      count: pageSize\n    }).then(function (res) {\n      if (res.errCode === 0) {\n        var _res$data = res.data,\n            arr = _res$data.arr,\n            _num = _res$data.num,\n            count = _res$data.count;\n        setList(arr);\n        setTotal(arr.length);\n        setCurrent(_num);\n        setPageSize(count);\n      }\n    });\n  }; // 请求列表数据  componentDidMount\n\n\n  useEffect(function () {\n    getList(current);\n  }, []); // 模拟componentDidUpdate\n\n  useEffect(function () {\n    getList(current);\n  }, [update]); // 分页\n\n  var onChange = function onChange(pages) {\n    getList(pages);\n  }; // 删除\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"list_table\",\n    style: {\n      padding: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(List, {\n    className: \"demo-loadmore-list\",\n    itemLayout: \"horizontal\",\n    dataSource: list,\n    renderItem: function renderItem(item) {\n      return /*#__PURE__*/React.createElement(List.Item, {\n        actions: [/*#__PURE__*/React.createElement(Button, {\n          type: \"primary\",\n          onClick: function onClick() {\n            return navigate('/edit/' + item.id);\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 29\n          }\n        }, \"\\u7F16\\u8F91\")],\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Skeleton, {\n        loading: false,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(List.Item.Meta, {\n        title: /*#__PURE__*/React.createElement(\"a\", {\n          href: \"!#\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 40\n          }\n        }, item.title),\n        description: item.subTitle,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 29\n        }\n      })));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Pagination, {\n    style: {\n      float: 'right',\n      marginTop: '20px'\n    },\n    onChange: onChange,\n    total: total,\n    current: current,\n    pageSize: pageSize,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/kong/game-cloud-frontend/src/pages/Lists.jsx"],"names":["React","useEffect","useState","ArticleListApi","useNavigate","List","Skeleton","Pagination","Button","message","Lists","list","setList","update","setUpdate","total","setTotal","current","setCurrent","pageSize","setPageSize","navigate","getList","num","count","then","res","errCode","data","arr","length","onChange","pages","padding","item","id","title","subTitle","float","marginTop"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {useEffect, useState} from 'react'\nimport {ArticleListApi} from \"./request/api\";\nimport {useNavigate} from 'react-router-dom'\nimport { List, Skeleton, Pagination, Button, message } from 'antd';\n\nexport default function Lists(){\n    const [list, setList] = useState([])\n    const [update, setUpdate] = useState(1)\n    const [total, setTotal] = useState(0)\n    const [current, setCurrent] = useState(1)\n    const [pageSize, setPageSize] = useState(10)\n    const navigate = useNavigate()\n    const getList = (num) => {\n        ArticleListApi({\n            num,\n            count: pageSize\n        }).then(res => {\n            if (res.errCode === 0) {\n                let { arr, num, count } = res.data;\n                setList(arr);\n                setTotal(arr.length);\n                setCurrent(num);\n                setPageSize(count);\n            }\n        })\n    }\n\n    // 请求列表数据  componentDidMount\n    useEffect(() => {\n        getList(current)\n    }, [])\n\n    // 模拟componentDidUpdate\n    useEffect(() => {\n        getList(current)\n    }, [update])\n\n    // 分页\n    const onChange = (pages) => {\n        getList(pages);\n    }\n\n    // 删除\n    return(\n        <div className='list_table' style={{ padding: '20px' }}>\n            <List\n                className=\"demo-loadmore-list\"\n                itemLayout=\"horizontal\"\n                dataSource={list}\n                renderItem={item => (\n                    <List.Item\n                        actions={[\n                            <Button type='primary' onClick={()=>navigate('/edit/'+item.id)}>编辑</Button>,\n                        ]}\n                    >\n                        <Skeleton loading={false}>\n                            <List.Item.Meta\n                                title={<a href=\"!#\">{item.title}</a>}\n                                description={item.subTitle}\n                            />\n                        </Skeleton>\n                    </List.Item>\n                )}\n            />\n            <Pagination style={{float: 'right',marginTop: '20px'}} onChange={onChange} total={total} current={current} pageSize={pageSize} />\n        </div>\n    )\n\n}"]},"metadata":{},"sourceType":"module"}