{"ast":null,"code":"import _slicedToArray from \"/Users/kong/Desktop/game-cloud-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/kong/Desktop/game-cloud-frontend/src/pages/ListTable.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { Table, Button, Space } from 'antd';\nimport './less/ListTable.less';\nimport { ArticleListApi } from \"./request/api\";\nimport { DeleteUserDataApi } from \"./request/api\";\nimport { Link } from \"react-router-dom\"; //父传子\n\nfunction MyTitle(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"table_title\",\n    href: \"localhost:3000/api/findAll?id=1\",\n    target: \"_blank\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 13\n    }\n  }, props.title));\n}\n\nexport default function ListTable() {\n  var _this = this;\n\n  //列表数组\n  var _useState = useState([{\n    title: '',\n    key: '1',\n    Rating: 'New York No.1 Lake Park'\n  }]),\n      _useState2 = _slicedToArray(_useState, 2),\n      arr = _useState2[0],\n      setArr = _useState2[1]; //请求文章列表\n\n\n  useEffect(function () {\n    ArticleListApi().then(function (res) {\n      var newArr = JSON.parse(JSON.stringify(res)); //深拷贝\n\n      var myarr = []; //用来获取自己想要的属性\n\n      newArr.map(function (item) {\n        var obj = {\n          key: item.id,\n          title: /*#__PURE__*/React.createElement(MyTitle, {\n            title: item.name,\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 36,\n              columnNumber: 27\n            }\n          }),\n          comment: item.comment,\n          score: item.score\n        };\n        myarr.push(obj);\n      });\n      setArr(myarr);\n      console.log(myarr);\n    });\n  }, []); //每一列内容 //text.key就是id\n\n  var columns = [{\n    title: '文章名称',\n    dataIndex: 'title',\n    key: 'title',\n    width: '30%',\n    render: function render(text) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 29\n        }\n      }, text);\n    }\n  }, {\n    title: '打分',\n    dataIndex: 'score',\n    key: 'score',\n    render: function render(text) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 29\n        }\n      }, text);\n    }\n  }, {\n    title: '评论',\n    dataIndex: 'comment',\n    key: 'comment',\n    render: function render(text) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 29\n        }\n      }, text);\n    }\n  }, {\n    title: 'Action',\n    key: 'action',\n    render: function render(text) {\n      return /*#__PURE__*/React.createElement(Space, {\n        size: \"middle\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        type: \"primary\",\n        onClick: function onClick() {\n          return console.log(text.key);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }\n      }, \"\\u7F16\\u8F91\"), /*#__PURE__*/React.createElement(Button, {\n        type: \"danger\",\n        onClick: handleDelete.bind(_this, text.key),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }\n      }, \"\\u5220\\u9664\"));\n      var params = {\n        id: text.key\n      };\n\n      var handleDelete = function handleDelete(key) {\n        DeleteUserDataApi({\n          params: params\n        }).then(function (response) {\n          console.log(response);\n          console.log(text.key);\n        }).catch(function (error) {\n          console.log(error);\n        });\n      };\n    }\n  }];\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"list_table\",\n    style: {\n      padding: '50px',\n      height: '600px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    columns: columns,\n    dataSource: arr,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/kong/Desktop/game-cloud-frontend/src/pages/ListTable.jsx"],"names":["React","useState","useEffect","Table","Button","Space","ArticleListApi","DeleteUserDataApi","Link","MyTitle","props","title","ListTable","key","Rating","arr","setArr","then","res","newArr","JSON","parse","stringify","myarr","map","item","obj","id","name","comment","score","push","console","log","columns","dataIndex","width","render","text","handleDelete","bind","params","response","catch","error","padding","height"],"mappings":"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","sourcesContent":["import React,{useState,useEffect}from 'react'\nimport { Table, Button, Space } from 'antd';\nimport './less/ListTable.less'\nimport {ArticleListApi} from \"./request/api\";\nimport {DeleteUserDataApi} from \"./request/api\";\nimport {Link} from \"react-router-dom\";\n//父传子\nfunction MyTitle(props) {\n    return (\n        <div>\n            <a className='table_title' href={\"localhost:3000/api/findAll?id=1\"} target=\"_blank\">{props.title}</a>\n            {/*<p style={{ color: '#999' }}>简介:{props.subTitle}</p>*/}\n        </div>\n    )\n}\n\n\nexport default function ListTable(){\n    //列表数组\n    const [arr,setArr]=useState([\n        {   title:'',\n            key:'1',\n            Rating:'New York No.1 Lake Park',\n        }\n    ])\n\n\n//请求文章列表\n    useEffect(()=>{\n        ArticleListApi().then(res=> {\n          let newArr=JSON.parse(JSON.stringify(res));//深拷贝\n          let myarr=[]//用来获取自己想要的属性\n          newArr.map(item=>{\n              let obj= {\n                  key : item.id,\n                  title : <MyTitle title={item.name} />,\n                  comment : item.comment,\n                  score:item.score\n              }\n              myarr.push(obj);\n          })\n           setArr(myarr)\n            console.log(myarr);\n        })\n    },[])\n\n\n//每一列内容 //text.key就是id\n    const columns = [\n        {\n            title: '文章名称',\n            dataIndex: 'title',\n            key: 'title',\n            width:'30%',\n            render: text => <div>{text}</div>\n        },\n        {\n            title: '打分',\n            dataIndex: 'score',\n            key: 'score',\n            render: text => <div>{text}</div>\n        },\n        {\n            title: '评论',\n            dataIndex: 'comment',\n            key: 'comment',\n            render: text => <div>{text}</div>\n        },\n        {\n            title: 'Action',\n            key: 'action',\n            render: text => {\n                return(\n                <Space size=\"middle\">\n                    <Button type=\"primary\" onClick={()=>console.log(text.key)}>编辑</Button>\n                    <Button type=\"danger\"  onClick={handleDelete.bind(this,text.key)}>删除</Button>\n                </Space>\n                )\n                let params = {\n                    id: text.key,\n                }\n                const handleDelete = (key: any) => {\n                    DeleteUserDataApi({params}).then(function (response) {\n                        console.log(response);\n                        console.log(text.key);\n                    })\n                        .catch(function (error) {\n                            console.log(error);\n                        });\n                };\n            },\n        },\n    ];\n\n\n    return(\n        <div className='list_table' style={{ padding: '50px',height:'600px'}}>\n            <Table columns={columns} dataSource={arr} />\n        </div>\n    )\n\n}\n\n\n"]},"metadata":{},"sourceType":"module"}